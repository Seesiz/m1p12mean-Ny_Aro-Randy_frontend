<div class="flex flex-row items-start h-full">
  <section class="flex-1 h-full flex flex-col items-center gap-2">
    <header
      class="flex flex-row items-center justify-between w-full shrink-0 p-2"
    >
      <div class="flex items-center gap-1">
        <button
          hlmBtn
          variant="outline"
          class="rounded-4xl"
          (click)="goToToday()"
        >
          {{ "calendar.today" | translate }}
        </button>
        <button
          hlmBtn
          variant="outline"
          class="rounded-full"
          (click)="goToPreviousMonth()"
        >
          <ng-icon name="lucideChevronLeft"></ng-icon>
        </button>
        <button
          hlmBtn
          variant="outline"
          class="rounded-full"
          (click)="goToNextMonth()"
        >
          <ng-icon name="lucideChevronRight"></ng-icon>
        </button>
      </div>
      <brn-select
        class="inline-block"
        placeholder="Select an option"
        (valueChange)="setViewType($event)"
      >
        <hlm-select-trigger class="w-56">
          {{ "calendar." + viewType() | translate }}
        </hlm-select-trigger>
        <hlm-select-content>
          <hlm-option value="month">{{
            "calendar.month" | translate
          }}</hlm-option>
          <hlm-option value="week">{{
            "calendar.week" | translate
          }}</hlm-option>
          <hlm-option value="day">{{ "calendar.day" | translate }}</hlm-option>
        </hlm-select-content>
      </brn-select>
    </header>
    <div
      #calendarContainer
      [class]="`flex-1 w-full rounded overflow-hidden ${show_data() ? 'rounded-r-none':'rounded-b-3xl'}`"
    ></div>
  </section>
  <app-form-popup
    [class]="`h-full transition-all ${show_data() ? 'w-3/12 opacity-100':'w-0 opacity-0'}`"
    [data]="show_data()"
    (close)="closeData()"
  />
</div>
